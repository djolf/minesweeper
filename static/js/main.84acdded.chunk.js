(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,n,t){e.exports=t(21)},,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(3),c=t.n(r),i=(t(16),t(4)),u=t(5),s=t(8),l=t(6),m=t(9),f=t(1),b=(t(17),t(7)),p=(t(18),t(19),function(e){var n=Object(a.useState)(!1),t=Object(f.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(e.isOpen),u=Object(f.a)(i,2),s=u[0],l=u[1];Object(a.useEffect)(function(){m(e.gameStatus)},[e.gameStatus]),Object(a.useEffect)(function(){e.isOpen&&b()},[e.isOpen]);var m=function(e){1===e&&(r||l(!0))};var b=function(){s||r||(l(!0),e.updateBoard(e.x,e.y,e.num),e.isBomb&&e.gameOver())};return o.a.createElement("div",{className:function(){var n="tile".concat(r?" flagged":"");return s&&(n+=" open",e.isBomb&&(n+=" bomb")),n}(),onClick:b,onContextMenu:function(n){n.preventDefault(),s||0!==e.gameStatus||(c(!r),e.setFlag(!r))}.bind(void 0)},o.a.createElement("span",null,e.num))}),v=function(e){var n=Object(a.useState)([]),t=Object(f.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(0),u=Object(f.a)(i,2),s=u[0],l=u[1],m=Object(a.useState)(e.mines),v=Object(f.a)(m,2),O=v[0],d=v[1],w=function(e,n,t){console.log("creating array with row=".concat(e,", col=").concat(n,", mines=").concat(t));var a=function(e,n,t){for(var a=Array(e*n-t).fill(!1).concat(Array(t).fill(!0)),o=a.length-1;o>0;o--){var r=Math.floor(Math.random()*(o+1)),c=[a[r],a[o]];a[o]=c[0],a[r]=c[1]}return a}(e,n,t),o=Array(e).fill().map(function(){return Array(n).fill()}),r=0;return o.map(function(e){return e.map(function(){var e={isBomb:a[r],key:r,isOpen:!1};return r++,e})})};Object(a.useEffect)(function(){return c(w(e.row,e.col,e.mines)),function(){console.log("cleanup"),c([]),d(0)}},[]);var g=function(){l(1)},E=function(n,t){var a=0;return r[n][t].isBomb?-1:(n>0&&r[n-1][t].isBomb&&a++,n<e.row-1&&r[n+1][t].isBomb&&a++,t>0&&r[n][t-1].isBomb&&a++,t<e.col-1&&r[n][t+1].isBomb&&a++,n>0&&t>0&&r[n-1][t-1].isBomb&&a++,n>0&&t<e.col-1&&r[n-1][t+1].isBomb&&a++,n<e.row-1&&t>0&&r[n+1][t-1].isBomb&&a++,n<e.row-1&&t<e.col-1&&r[n+1][t+1].isBomb&&a++,a)},j=function(n,t){var a=Object(b.a)(r);n>0&&(a[n-1][t].isOpen=!0),n<e.row-1&&(a[n+1][t].isOpen=!0),t>0&&(a[n][t-1].isOpen=!0),t<e.col-1&&(a[n][t+1].isOpen=!0),n>0&&t>0&&(a[n-1][t-1].isOpen=!0),n>0&&t<e.col-1&&(a[n-1][t+1].isOpen=!0),n<e.row-1&&t>0&&(a[n+1][t-1].isOpen=!0),n<e.row-1&&t<e.col-1&&(a[n+1][t+1].isOpen=!0),c(a)},N=function(n,t,a){r[n][t].isOpen=!0,a||j(n,t),e.row*e.col-e.mines===h()&&l(2)},h=function(){return r.reduce(function(e,n){return e+n.reduce(function(e,n){return n.isOpen?e+1:e},0)},0)},y=function(e){d(e?O-1:O+1)};return o.a.createElement("div",{className:"game-wrapper"},o.a.createElement("div",{className:"info-panel"},o.a.createElement("div",{className:"timer"}),o.a.createElement("div",{className:"new-game",onClick:e.newGame},"New Game"),o.a.createElement("div",{className:"quantity"},"Mines Left: ",O),s>0&&o.a.createElement("div",{className:"result"},"You've ",0===s?"Ongoing...":1===s?"Lost!":2===s?"Won!":void 0)),o.a.createElement("div",{className:"tile-container"},r.map(function(e,n){return o.a.createElement("div",{className:"row",key:n},e.map(function(e,t){return o.a.createElement(p,{isBomb:e.isBomb,key:e.key,x:n,y:t,num:E(n,t),gameOver:g.bind(void 0),gameStatus:s,openAdjacent:j,isOpen:e.isOpen,updateBoard:N,setFlag:y})}))})))},O=function(e){var n=Object(a.useState)(0),t=Object(f.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(15),u=Object(f.a)(i,2),s=u[0],l=u[1],m=Object(a.useState)(15),b=Object(f.a)(m,2),p=b[0],O=b[1],d=Object(a.useState)(30),w=Object(f.a)(d,2),g=w[0],E=w[1];return o.a.createElement("div",{className:"outer-wrapper"},o.a.createElement("div",{className:"game-params"},o.a.createElement("div",{className:"group"},o.a.createElement("label",{htmlFor:"mines"},"Number of Mines:"),o.a.createElement("input",{type:"number",name:"mines",value:g,onChange:function(e){E(Number(e.target.value))}})),o.a.createElement("div",{className:"group"},o.a.createElement("label",{htmlFor:"col"},"Number of Columns:"),o.a.createElement("input",{type:"number",name:"col",value:p,onChange:function(e){O(Number(e.target.value))}})),o.a.createElement("div",{className:"group"},o.a.createElement("label",{htmlFor:"row"},"Number of Rows:"),o.a.createElement("input",{type:"number",name:"row",value:s,onChange:function(e){l(Number(e.target.value))}}))),o.a.createElement(v,{row:s,col:p,mines:g,key:r,newGame:function(){c(r+1)}}))},d=(t(20),function(e){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(O,null)}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.84acdded.chunk.js.map