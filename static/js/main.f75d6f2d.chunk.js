(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,n,t){e.exports=t(21)},,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),o=t(4),c=t.n(o),r=(t(16),t(5)),s=t(6),l=t(8),u=t(7),m=t(9),g=t(1),p=(t(17),t(2)),O=(t(18),t(19),function(e){var n=Object(a.useState)(e.isFlagged),t=Object(g.a)(n,2),o=t[0],c=t[1],r=Object(a.useState)(e.isOpen),s=Object(g.a)(r,2),l=s[0],u=s[1];Object(a.useEffect)(function(){m(e.gameStatus)},[e.gameStatus]),Object(a.useEffect)(function(){e.isOpen&&p()},[e.isOpen]);var m=function(e){1===e&&(o||u(!0))};var p=function(){l||o?!e.isBomb&&l&&e.num>0&&e.checkFlagsAndOpen(e.x,e.y,e.num):(u(!0),e.updateBoard(e.x,e.y,e.num),e.isBomb&&e.gameOver())};return i.a.createElement("div",{className:function(){var n="tile".concat(o?" flagged":"");return l&&(n+=" open",e.isBomb&&(n+=" bomb")),n}(),onClick:p,onContextMenu:function(n){n.preventDefault(),l||0!==e.gameStatus||(c(!o),e.setFlag(!o,e.x,e.y))}.bind(void 0)},i.a.createElement("span",null,e.num))}),f=function(e){var n=Object(a.useState)([]),t=Object(g.a)(n,2),o=t[0],c=t[1],r=Object(a.useState)(0),s=Object(g.a)(r,2),l=s[0],u=s[1],m=Object(a.useState)(e.mines),f=Object(g.a)(m,2),b=f[0],d=f[1],v=function(e,n,t){console.log("creating array with row=".concat(e,", col=").concat(n,", mines=").concat(t));var a=function(e,n,t){for(var a=Array(e*n-t).fill(!1).concat(Array(t).fill(!0)),i=a.length-1;i>0;i--){var o=Math.floor(Math.random()*(i+1)),c=[a[o],a[i]];a[i]=c[0],a[o]=c[1]}return a}(e,n,t),i=Array(e).fill().map(function(){return Array(n).fill()}),o=0;return i.map(function(e){return e.map(function(){var e={isBomb:a[o],key:o,isOpen:!1,isFlagged:!1};return o++,e})})};Object(a.useEffect)(function(){return c(v(e.row,e.col,e.mines)),function(){console.log("cleanup"),c([]),d(0)}},[]);var w=function(){u(1)},j=function(n,t){var a=0;return o[n][t].isBomb?-1:(n>0&&o[n-1][t].isBomb&&a++,n<e.row-1&&o[n+1][t].isBomb&&a++,t>0&&o[n][t-1].isBomb&&a++,t<e.col-1&&o[n][t+1].isBomb&&a++,n>0&&t>0&&o[n-1][t-1].isBomb&&a++,n>0&&t<e.col-1&&o[n-1][t+1].isBomb&&a++,n<e.row-1&&t>0&&o[n+1][t-1].isBomb&&a++,n<e.row-1&&t<e.col-1&&o[n+1][t+1].isBomb&&a++,a)},E=function(n,t){var a=Object(p.a)(o);n>0&&(a[n-1][t].isOpen=!0),n<e.row-1&&(a[n+1][t].isOpen=!0),t>0&&(a[n][t-1].isOpen=!0),t<e.col-1&&(a[n][t+1].isOpen=!0),n>0&&t>0&&(a[n-1][t-1].isOpen=!0),n>0&&t<e.col-1&&(a[n-1][t+1].isOpen=!0),n<e.row-1&&t>0&&(a[n+1][t-1].isOpen=!0),n<e.row-1&&t<e.col-1&&(a[n+1][t+1].isOpen=!0),c(a)},F=function(n,t,a){o[n][t].isOpen=!0,a||E(n,t),e.row*e.col-e.mines===h()&&u(2)},h=function(){return o.reduce(function(e,n){return e+n.reduce(function(e,n){return n.isOpen?e+1:e},0)},0)},y=function(e,n,t){var a=Object(p.a)(o);e?(a[n][t].isFlagged=!0,d(b-1)):(a[n][t].isFlagged=!1,d(b+1)),c(a)},N=function(e,n,t){k(e,n)===t&&B(e,n)},B=function(n,t){var a=Object(p.a)(o);n>0&&!a[n-1][t].isOpen&&!a[n-1][t].isFlagged&&(a[n-1][t].isOpen=!0),n<e.row-1&&!a[n+1][t].isOpen&&!a[n+1][t].isFlagged&&(a[n+1][t].isOpen=!0),t>0&&!a[n][t-1].isOpen&&!a[n][t-1].isFlagged&&(a[n][t-1].isOpen=!0),t<e.col-1&&!a[n][t+1].isOpen&&!a[n][t+1].isFlagged&&(a[n][t+1].isOpen=!0),n>0&&t>0&&!a[n-1][t-1].isOpen&&!a[n-1][t-1].isFlagged&&(a[n-1][t-1].isOpen=!0),n>0&&t<e.col-1&&!a[n-1][t+1].isOpen&&!a[n-1][t+1].isFlagged&&(a[n-1][t+1].isOpen=!0),n<e.row-1&&t>0&&!a[n+1][t-1].isOpen&&!a[n+1][t-1].isFlagged&&(a[n+1][t-1].isOpen=!0),n<e.row-1&&t<e.col-1&&!a[n+1][t+1].isOpen&&!a[n+1][t+1].isFlagged&&(a[n+1][t+1].isOpen=!0),c(a)},k=function(n,t){var a=0;return n>0&&o[n-1][t].isFlagged&&a++,n<e.row-1&&o[n+1][t].isFlagged&&a++,t>0&&o[n][t-1].isFlagged&&a++,t<e.col-1&&o[n][t+1].isFlagged&&a++,n>0&&t>0&&o[n-1][t-1].isFlagged&&a++,n>0&&t<e.col-1&&o[n-1][t+1].isFlagged&&a++,n<e.row-1&&t>0&&o[n+1][t-1].isFlagged&&a++,n<e.row-1&&t<e.col-1&&o[n+1][t+1].isFlagged&&a++,a};return i.a.createElement("div",{className:"game-wrapper"},i.a.createElement("div",{className:"info-panel"},i.a.createElement("div",{className:"timer"}),i.a.createElement("div",{className:"new-game",onClick:e.newGame},"New Game"),i.a.createElement("div",{className:"quantity"},"Mines Left: ",b),l>0&&i.a.createElement("div",{className:"result"},"You've ",0===l?"Ongoing...":1===l?"Lost!":2===l?"Won!":void 0)),i.a.createElement("div",{className:"tile-container"},o.map(function(e,n){return i.a.createElement("div",{className:"row",key:n},e.map(function(e,t){return i.a.createElement(O,{isBomb:e.isBomb,key:e.key,x:n,y:t,num:j(n,t),gameOver:w.bind(void 0),gameStatus:l,openAdjacent:E,isOpen:e.isOpen,updateBoard:F,setFlag:y,checkFlagsAndOpen:N})}))})))},b=function(e){var n=Object(a.useState)(0),t=Object(g.a)(n,2),o=t[0],c=t[1],r=Object(a.useState)(15),s=Object(g.a)(r,2),l=s[0],u=s[1],m=Object(a.useState)(15),p=Object(g.a)(m,2),O=p[0],b=p[1],d=Object(a.useState)(30),v=Object(g.a)(d,2),w=v[0],j=v[1];return i.a.createElement("div",{className:"outer-wrapper"},i.a.createElement("div",{className:"game-params"},i.a.createElement("div",{className:"group"},i.a.createElement("label",{htmlFor:"mines"},"Number of Mines:"),i.a.createElement("input",{type:"number",name:"mines",value:w,onChange:function(e){j(Number(e.target.value))}})),i.a.createElement("div",{className:"group"},i.a.createElement("label",{htmlFor:"col"},"Number of Columns:"),i.a.createElement("input",{type:"number",name:"col",value:O,onChange:function(e){b(Number(e.target.value))}})),i.a.createElement("div",{className:"group"},i.a.createElement("label",{htmlFor:"row"},"Number of Rows:"),i.a.createElement("input",{type:"number",name:"row",value:l,onChange:function(e){u(Number(e.target.value))}}))),i.a.createElement(f,{row:l,col:O,mines:w,key:o,newGame:function(){c(o+1)}}))},d=(t(20),function(e){function n(){return Object(r.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement(b,null)}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.f75d6f2d.chunk.js.map